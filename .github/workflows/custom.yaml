name: awesome_action
on: workflow_dispatch
jobs:
  test:
    runs-on: self-hosted
    steps:
      - name: checkout
        uses: actions/checkout@v3
      - name: notif
        uses: Nunuzac/awesome-action@master
        with:
          template-input-path: resources/example.json
          template-output-path: resources/example_fixed.json
          replacements: |
            NOTIFICATION_HEADER=":warning:  `io_amr_ui` *image build failed*"
            PR_URL="${{ github.event.pull_request.html_url || github.event.head_commit.url || '#' }}"
            REPO_URL="${{ github.server_url/github.repository  }}"
            SOURCE_BRANCH="${{ github.head_ref || github.ref_name }}"
            DEST_BRANCH="${{ github.base_ref || 'devel' }}"
            RUN_ID="${{ github.run_id }}"
      - name: test
        run: cat resources/example_fixed.json